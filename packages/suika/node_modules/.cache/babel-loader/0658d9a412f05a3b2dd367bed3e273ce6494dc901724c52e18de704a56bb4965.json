{"ast":null,"code":"import useLatest from '../useLatest';\nimport { getTargetElement } from '../utils/domTarget';\nimport getDocumentOrShadow from '../utils/getDocumentOrShadow';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nexport default function useClickAway(onClickAway, target, eventName = 'click') {\n  const onClickAwayRef = useLatest(onClickAway);\n  useEffectWithTarget(() => {\n    const handler = event => {\n      const targets = Array.isArray(target) ? target : [target];\n      if (targets.some(item => {\n        const targetElement = getTargetElement(item);\n        return !targetElement || targetElement.contains(event.target);\n      })) {\n        return;\n      }\n      onClickAwayRef.current(event);\n    };\n    const documentOrShadow = getDocumentOrShadow(target);\n    const eventNames = Array.isArray(eventName) ? eventName : [eventName];\n    eventNames.forEach(event => documentOrShadow.addEventListener(event, handler));\n    return () => {\n      eventNames.forEach(event => documentOrShadow.removeEventListener(event, handler));\n    };\n  }, Array.isArray(eventName) ? eventName : [eventName], target);\n}","map":{"version":3,"names":["useLatest","getTargetElement","getDocumentOrShadow","useEffectWithTarget","useClickAway","onClickAway","target","eventName","onClickAwayRef","handler","event","targets","Array","isArray","some","item","targetElement","contains","current","documentOrShadow","eventNames","forEach","addEventListener","removeEventListener"],"sources":["/Users/yangdan/zf-workspace/react/suika/node_modules/.pnpm/registry.npmmirror.com+ahooks@3.7.4_react@18.2.0/node_modules/ahooks/es/useClickAway/index.js"],"sourcesContent":["import useLatest from '../useLatest';\nimport { getTargetElement } from '../utils/domTarget';\nimport getDocumentOrShadow from '../utils/getDocumentOrShadow';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nexport default function useClickAway(onClickAway, target, eventName = 'click') {\n  const onClickAwayRef = useLatest(onClickAway);\n  useEffectWithTarget(() => {\n    const handler = event => {\n      const targets = Array.isArray(target) ? target : [target];\n      if (targets.some(item => {\n        const targetElement = getTargetElement(item);\n        return !targetElement || targetElement.contains(event.target);\n      })) {\n        return;\n      }\n      onClickAwayRef.current(event);\n    };\n    const documentOrShadow = getDocumentOrShadow(target);\n    const eventNames = Array.isArray(eventName) ? eventName : [eventName];\n    eventNames.forEach(event => documentOrShadow.addEventListener(event, handler));\n    return () => {\n      eventNames.forEach(event => documentOrShadow.removeEventListener(event, handler));\n    };\n  }, Array.isArray(eventName) ? eventName : [eventName], target);\n}"],"mappings":"AAAA,OAAOA,SAAS,MAAM,cAAc;AACpC,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,OAAOC,mBAAmB,MAAM,8BAA8B;AAC9D,OAAOC,mBAAmB,MAAM,8BAA8B;AAC9D,eAAe,SAASC,YAAYA,CAACC,WAAW,EAAEC,MAAM,EAAEC,SAAS,GAAG,OAAO,EAAE;EAC7E,MAAMC,cAAc,GAAGR,SAAS,CAACK,WAAW,CAAC;EAC7CF,mBAAmB,CAAC,MAAM;IACxB,MAAMM,OAAO,GAAGC,KAAK,IAAI;MACvB,MAAMC,OAAO,GAAGC,KAAK,CAACC,OAAO,CAACP,MAAM,CAAC,GAAGA,MAAM,GAAG,CAACA,MAAM,CAAC;MACzD,IAAIK,OAAO,CAACG,IAAI,CAACC,IAAI,IAAI;QACvB,MAAMC,aAAa,GAAGf,gBAAgB,CAACc,IAAI,CAAC;QAC5C,OAAO,CAACC,aAAa,IAAIA,aAAa,CAACC,QAAQ,CAACP,KAAK,CAACJ,MAAM,CAAC;MAC/D,CAAC,CAAC,EAAE;QACF;MACF;MACAE,cAAc,CAACU,OAAO,CAACR,KAAK,CAAC;IAC/B,CAAC;IACD,MAAMS,gBAAgB,GAAGjB,mBAAmB,CAACI,MAAM,CAAC;IACpD,MAAMc,UAAU,GAAGR,KAAK,CAACC,OAAO,CAACN,SAAS,CAAC,GAAGA,SAAS,GAAG,CAACA,SAAS,CAAC;IACrEa,UAAU,CAACC,OAAO,CAACX,KAAK,IAAIS,gBAAgB,CAACG,gBAAgB,CAACZ,KAAK,EAAED,OAAO,CAAC,CAAC;IAC9E,OAAO,MAAM;MACXW,UAAU,CAACC,OAAO,CAACX,KAAK,IAAIS,gBAAgB,CAACI,mBAAmB,CAACb,KAAK,EAAED,OAAO,CAAC,CAAC;IACnF,CAAC;EACH,CAAC,EAAEG,KAAK,CAACC,OAAO,CAACN,SAAS,CAAC,GAAGA,SAAS,GAAG,CAACA,SAAS,CAAC,EAAED,MAAM,CAAC;AAChE"},"metadata":{},"sourceType":"module","externalDependencies":[]}