{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { useEffect } from 'react';\nimport { isFunction } from '../utils';\nfunction useAsyncEffect(effect, deps) {\n  function isAsyncGenerator(val) {\n    return isFunction(val[Symbol.asyncIterator]);\n  }\n  useEffect(() => {\n    const e = effect();\n    let cancelled = false;\n    function execute() {\n      return __awaiter(this, void 0, void 0, function* () {\n        if (isAsyncGenerator(e)) {\n          while (true) {\n            const result = yield e.next();\n            if (result.done || cancelled) {\n              break;\n            }\n          }\n        } else {\n          yield e;\n        }\n      });\n    }\n    execute();\n    return () => {\n      cancelled = true;\n    };\n  }, deps);\n}\nexport default useAsyncEffect;","map":{"version":3,"names":["__awaiter","useEffect","isFunction","useAsyncEffect","effect","deps","isAsyncGenerator","val","Symbol","asyncIterator","e","cancelled","execute","result","next","done"],"sources":["/Users/yangdan/zf-workspace/react/suika/node_modules/.pnpm/registry.npmmirror.com+ahooks@3.7.4_react@18.2.0/node_modules/ahooks/es/useAsyncEffect/index.js"],"sourcesContent":["import { __awaiter } from \"tslib\";\nimport { useEffect } from 'react';\nimport { isFunction } from '../utils';\nfunction useAsyncEffect(effect, deps) {\n  function isAsyncGenerator(val) {\n    return isFunction(val[Symbol.asyncIterator]);\n  }\n  useEffect(() => {\n    const e = effect();\n    let cancelled = false;\n    function execute() {\n      return __awaiter(this, void 0, void 0, function* () {\n        if (isAsyncGenerator(e)) {\n          while (true) {\n            const result = yield e.next();\n            if (result.done || cancelled) {\n              break;\n            }\n          }\n        } else {\n          yield e;\n        }\n      });\n    }\n    execute();\n    return () => {\n      cancelled = true;\n    };\n  }, deps);\n}\nexport default useAsyncEffect;"],"mappings":"AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,UAAU,QAAQ,UAAU;AACrC,SAASC,cAAcA,CAACC,MAAM,EAAEC,IAAI,EAAE;EACpC,SAASC,gBAAgBA,CAACC,GAAG,EAAE;IAC7B,OAAOL,UAAU,CAACK,GAAG,CAACC,MAAM,CAACC,aAAa,CAAC,CAAC;EAC9C;EACAR,SAAS,CAAC,MAAM;IACd,MAAMS,CAAC,GAAGN,MAAM,CAAC,CAAC;IAClB,IAAIO,SAAS,GAAG,KAAK;IACrB,SAASC,OAAOA,CAAA,EAAG;MACjB,OAAOZ,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;QAClD,IAAIM,gBAAgB,CAACI,CAAC,CAAC,EAAE;UACvB,OAAO,IAAI,EAAE;YACX,MAAMG,MAAM,GAAG,MAAMH,CAAC,CAACI,IAAI,CAAC,CAAC;YAC7B,IAAID,MAAM,CAACE,IAAI,IAAIJ,SAAS,EAAE;cAC5B;YACF;UACF;QACF,CAAC,MAAM;UACL,MAAMD,CAAC;QACT;MACF,CAAC,CAAC;IACJ;IACAE,OAAO,CAAC,CAAC;IACT,OAAO,MAAM;MACXD,SAAS,GAAG,IAAI;IAClB,CAAC;EACH,CAAC,EAAEN,IAAI,CAAC;AACV;AACA,eAAeF,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}