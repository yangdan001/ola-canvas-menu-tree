{"ast":null,"code":"import { GraphType } from '../../type';\nimport { rotateInCanvas } from '../../utils/canvas';\nimport { parseRGBAStr } from '../../utils/color';\nimport { TextureType } from '../texture';\nimport { Graph } from './graph';\n/**\n * x\n * y\n * width\n * 没有 height（面板上不可编辑，并显示为 0）\n *\n */\n\nexport class Line extends Graph {\n  constructor(options) {\n    super({\n      ...options,\n      type: GraphType.Line\n    });\n    this.height = 0;\n  }\n  renderFillAndStrokeTexture(ctx) {\n    const {\n      x,\n      y,\n      width,\n      rotation\n    } = this;\n    if (rotation) {\n      const {\n        x: cx,\n        y: cy\n      } = this.getCenter();\n      rotateInCanvas(ctx, rotation, cx, cy);\n    }\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + width, y);\n    if (this.strokeWidth) {\n      ctx.lineWidth = this.strokeWidth;\n      for (const texture of this.stroke) {\n        switch (texture.type) {\n          case TextureType.Solid:\n            {\n              ctx.strokeStyle = parseRGBAStr(texture.attrs);\n              ctx.stroke();\n              break;\n            }\n          case TextureType.Image:\n            {\n              // TODO: stroke image\n            }\n        }\n      }\n      ctx.closePath();\n    }\n  }\n}","map":{"version":3,"names":["GraphType","rotateInCanvas","parseRGBAStr","TextureType","Graph","Line","constructor","options","type","height","renderFillAndStrokeTexture","ctx","x","y","width","rotation","cx","cy","getCenter","beginPath","moveTo","lineTo","strokeWidth","lineWidth","texture","stroke","Solid","strokeStyle","attrs","Image","closePath"],"sources":["/Users/yangdan/zf-workspace/react/suika/packages/suika/src/editor/scene/line.ts"],"sourcesContent":["import { GraphType } from '../../type';\nimport { rotateInCanvas } from '../../utils/canvas';\nimport { parseRGBAStr } from '../../utils/color';\nimport { TextureType } from '../texture';\nimport { Graph, GraphAttrs } from './graph';\n\nexport type LineAttrs = GraphAttrs;\n\n/**\n * x\n * y\n * width\n * 没有 height（面板上不可编辑，并显示为 0）\n *\n */\n\nexport class Line extends Graph {\n  constructor(options: LineAttrs) {\n    super({ ...options, type: GraphType.Line });\n    this.height = 0;\n  }\n\n  renderFillAndStrokeTexture(ctx: CanvasRenderingContext2D) {\n    const { x, y, width, rotation } = this;\n    if (rotation) {\n      const { x: cx, y: cy } = this.getCenter();\n\n      rotateInCanvas(ctx, rotation, cx, cy);\n    }\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + width, y);\n    if (this.strokeWidth) {\n      ctx.lineWidth = this.strokeWidth;\n      for (const texture of this.stroke) {\n        switch (texture.type) {\n          case TextureType.Solid: {\n            ctx.strokeStyle = parseRGBAStr(texture.attrs);\n            ctx.stroke();\n            break;\n          }\n          case TextureType.Image: {\n            // TODO: stroke image\n          }\n        }\n      }\n\n      ctx.closePath();\n    }\n  }\n}\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,YAAY;AACtC,SAASC,cAAc,QAAQ,oBAAoB;AACnD,SAASC,YAAY,QAAQ,mBAAmB;AAChD,SAASC,WAAW,QAAQ,YAAY;AACxC,SAASC,KAAK,QAAoB,SAAS;AAI3C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,IAAI,SAASD,KAAK,CAAC;EAC9BE,WAAWA,CAACC,OAAkB,EAAE;IAC9B,KAAK,CAAC;MAAE,GAAGA,OAAO;MAAEC,IAAI,EAAER,SAAS,CAACK;IAAK,CAAC,CAAC;IAC3C,IAAI,CAACI,MAAM,GAAG,CAAC;EACjB;EAEAC,0BAA0BA,CAACC,GAA6B,EAAE;IACxD,MAAM;MAAEC,CAAC;MAAEC,CAAC;MAAEC,KAAK;MAAEC;IAAS,CAAC,GAAG,IAAI;IACtC,IAAIA,QAAQ,EAAE;MACZ,MAAM;QAAEH,CAAC,EAAEI,EAAE;QAAEH,CAAC,EAAEI;MAAG,CAAC,GAAG,IAAI,CAACC,SAAS,CAAC,CAAC;MAEzCjB,cAAc,CAACU,GAAG,EAAEI,QAAQ,EAAEC,EAAE,EAAEC,EAAE,CAAC;IACvC;IACAN,GAAG,CAACQ,SAAS,CAAC,CAAC;IACfR,GAAG,CAACS,MAAM,CAACR,CAAC,EAAEC,CAAC,CAAC;IAChBF,GAAG,CAACU,MAAM,CAACT,CAAC,GAAGE,KAAK,EAAED,CAAC,CAAC;IACxB,IAAI,IAAI,CAACS,WAAW,EAAE;MACpBX,GAAG,CAACY,SAAS,GAAG,IAAI,CAACD,WAAW;MAChC,KAAK,MAAME,OAAO,IAAI,IAAI,CAACC,MAAM,EAAE;QACjC,QAAQD,OAAO,CAAChB,IAAI;UAClB,KAAKL,WAAW,CAACuB,KAAK;YAAE;cACtBf,GAAG,CAACgB,WAAW,GAAGzB,YAAY,CAACsB,OAAO,CAACI,KAAK,CAAC;cAC7CjB,GAAG,CAACc,MAAM,CAAC,CAAC;cACZ;YACF;UACA,KAAKtB,WAAW,CAAC0B,KAAK;YAAE;cACtB;YAAA;QAEJ;MACF;MAEAlB,GAAG,CAACmB,SAAS,CAAC,CAAC;IACjB;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}