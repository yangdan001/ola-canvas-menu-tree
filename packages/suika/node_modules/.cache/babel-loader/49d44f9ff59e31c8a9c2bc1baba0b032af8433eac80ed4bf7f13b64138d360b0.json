{"ast":null,"code":"import { __rest } from \"tslib\";\nimport Cookies from 'js-cookie';\nimport { useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport { isFunction, isString } from '../utils';\nfunction useCookieState(cookieKey, options = {}) {\n  const [state, setState] = useState(() => {\n    const cookieValue = Cookies.get(cookieKey);\n    if (isString(cookieValue)) return cookieValue;\n    if (isFunction(options.defaultValue)) {\n      return options.defaultValue();\n    }\n    return options.defaultValue;\n  });\n  const updateState = useMemoizedFn((newValue, newOptions = {}) => {\n    const _a = Object.assign(Object.assign({}, options), newOptions),\n      {\n        defaultValue\n      } = _a,\n      restOptions = __rest(_a, [\"defaultValue\"]);\n    setState(prevState => {\n      const value = isFunction(newValue) ? newValue(prevState) : newValue;\n      if (value === undefined) {\n        Cookies.remove(cookieKey);\n      } else {\n        Cookies.set(cookieKey, value, restOptions);\n      }\n      return value;\n    });\n  });\n  return [state, updateState];\n}\nexport default useCookieState;","map":{"version":3,"names":["__rest","Cookies","useState","useMemoizedFn","isFunction","isString","useCookieState","cookieKey","options","state","setState","cookieValue","get","defaultValue","updateState","newValue","newOptions","_a","Object","assign","restOptions","prevState","value","undefined","remove","set"],"sources":["/Users/yangdan/zf-workspace/react/suika/node_modules/.pnpm/registry.npmmirror.com+ahooks@3.7.4_react@18.2.0/node_modules/ahooks/es/useCookieState/index.js"],"sourcesContent":["import { __rest } from \"tslib\";\nimport Cookies from 'js-cookie';\nimport { useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport { isFunction, isString } from '../utils';\nfunction useCookieState(cookieKey, options = {}) {\n  const [state, setState] = useState(() => {\n    const cookieValue = Cookies.get(cookieKey);\n    if (isString(cookieValue)) return cookieValue;\n    if (isFunction(options.defaultValue)) {\n      return options.defaultValue();\n    }\n    return options.defaultValue;\n  });\n  const updateState = useMemoizedFn((newValue, newOptions = {}) => {\n    const _a = Object.assign(Object.assign({}, options), newOptions),\n      {\n        defaultValue\n      } = _a,\n      restOptions = __rest(_a, [\"defaultValue\"]);\n    setState(prevState => {\n      const value = isFunction(newValue) ? newValue(prevState) : newValue;\n      if (value === undefined) {\n        Cookies.remove(cookieKey);\n      } else {\n        Cookies.set(cookieKey, value, restOptions);\n      }\n      return value;\n    });\n  });\n  return [state, updateState];\n}\nexport default useCookieState;"],"mappings":"AAAA,SAASA,MAAM,QAAQ,OAAO;AAC9B,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,aAAa,MAAM,kBAAkB;AAC5C,SAASC,UAAU,EAAEC,QAAQ,QAAQ,UAAU;AAC/C,SAASC,cAAcA,CAACC,SAAS,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAE;EAC/C,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,MAAM;IACvC,MAAMS,WAAW,GAAGV,OAAO,CAACW,GAAG,CAACL,SAAS,CAAC;IAC1C,IAAIF,QAAQ,CAACM,WAAW,CAAC,EAAE,OAAOA,WAAW;IAC7C,IAAIP,UAAU,CAACI,OAAO,CAACK,YAAY,CAAC,EAAE;MACpC,OAAOL,OAAO,CAACK,YAAY,CAAC,CAAC;IAC/B;IACA,OAAOL,OAAO,CAACK,YAAY;EAC7B,CAAC,CAAC;EACF,MAAMC,WAAW,GAAGX,aAAa,CAAC,CAACY,QAAQ,EAAEC,UAAU,GAAG,CAAC,CAAC,KAAK;IAC/D,MAAMC,EAAE,GAAGC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEX,OAAO,CAAC,EAAEQ,UAAU,CAAC;MAC9D;QACEH;MACF,CAAC,GAAGI,EAAE;MACNG,WAAW,GAAGpB,MAAM,CAACiB,EAAE,EAAE,CAAC,cAAc,CAAC,CAAC;IAC5CP,QAAQ,CAACW,SAAS,IAAI;MACpB,MAAMC,KAAK,GAAGlB,UAAU,CAACW,QAAQ,CAAC,GAAGA,QAAQ,CAACM,SAAS,CAAC,GAAGN,QAAQ;MACnE,IAAIO,KAAK,KAAKC,SAAS,EAAE;QACvBtB,OAAO,CAACuB,MAAM,CAACjB,SAAS,CAAC;MAC3B,CAAC,MAAM;QACLN,OAAO,CAACwB,GAAG,CAAClB,SAAS,EAAEe,KAAK,EAAEF,WAAW,CAAC;MAC5C;MACA,OAAOE,KAAK;IACd,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAO,CAACb,KAAK,EAAEK,WAAW,CAAC;AAC7B;AACA,eAAeR,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}