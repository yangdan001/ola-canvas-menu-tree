{"ast":null,"code":"var _jsxFileName = \"/Users/yangdan/zf-workspace/react/suika/packages/suika/src/components/ZoomActions/components/ZoomInput/ZoomInput.tsx\",\n  _s = $RefreshSig$();\nimport { useRef, useState } from 'react';\nimport { remainDecimal } from '../../../../utils/common';\nimport { useMount } from 'ahooks';\nimport './style.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ZoomInput = ({\n  defaultValue,\n  onChange\n}) => {\n  _s();\n  const inputRef = useRef(null);\n  const [value, setValue] = useState(defaultValue ? `${String(Math.round(defaultValue * 100))}%` : '');\n  useMount(() => {\n    if (inputRef.current) {\n      inputRef.current.select();\n    }\n  });\n  const emitChange = () => {\n    const newZoom = parseInt(value);\n    if (!Number.isNaN(newZoom)) {\n      onChange && onChange(remainDecimal(newZoom / 100));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"input\", {\n    ref: inputRef,\n    value: value,\n    className: \"suika-zoom-input\",\n    onInput: e => {\n      const newValue = e.target.value.replace(/\\s/g, '');\n      setValue(newValue);\n    },\n    onKeyDown: e => {\n      if (e.key === 'Enter' && !e.nativeEvent.isComposing) {\n        emitChange();\n      }\n    },\n    onBlur: () => emitChange()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(ZoomInput, \"QKNQeGP4L96qt0n3QmiuouJ5HC0=\", false, function () {\n  return [useMount];\n});\n_c = ZoomInput;\nvar _c;\n$RefreshReg$(_c, \"ZoomInput\");","map":{"version":3,"names":["useRef","useState","remainDecimal","useMount","jsxDEV","_jsxDEV","ZoomInput","defaultValue","onChange","_s","inputRef","value","setValue","String","Math","round","current","select","emitChange","newZoom","parseInt","Number","isNaN","ref","className","onInput","e","newValue","target","replace","onKeyDown","key","nativeEvent","isComposing","onBlur","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/yangdan/zf-workspace/react/suika/packages/suika/src/components/ZoomActions/components/ZoomInput/ZoomInput.tsx"],"sourcesContent":["import { FC, useRef, useState } from 'react';\nimport { remainDecimal } from '../../../../utils/common';\nimport { useMount } from 'ahooks';\nimport './style.scss';\n\ninterface IProps {\n  defaultValue?: number;\n  onChange?: (value: number) => void;\n}\n\nexport const ZoomInput: FC<IProps> = ({ defaultValue, onChange }) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n  const [value, setValue] = useState(\n    defaultValue ? `${String(Math.round(defaultValue * 100))}%` : '',\n  );\n\n  useMount(() => {\n    if (inputRef.current) {\n      inputRef.current.select();\n    }\n  });\n\n  const emitChange = () => {\n    const newZoom = parseInt(value);\n    if (!Number.isNaN(newZoom)) {\n      onChange && onChange(remainDecimal(newZoom / 100));\n    }\n  };\n\n  return (\n    <input\n      ref={inputRef}\n      value={value}\n      className=\"suika-zoom-input\"\n      onInput={(e) => {\n        const newValue = (e.target as HTMLInputElement).value.replace(\n          /\\s/g,\n          '',\n        );\n        setValue(newValue);\n      }}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter' && !e.nativeEvent.isComposing) {\n          emitChange();\n        }\n      }}\n      onBlur={() => emitChange()}\n    />\n  );\n};\n"],"mappings":";;AAAA,SAAaA,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC5C,SAASC,aAAa,QAAQ,0BAA0B;AACxD,SAASC,QAAQ,QAAQ,QAAQ;AACjC,OAAO,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAOtB,OAAO,MAAMC,SAAqB,GAAGA,CAAC;EAAEC,YAAY;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACnE,MAAMC,QAAQ,GAAGV,MAAM,CAAmB,IAAI,CAAC;EAC/C,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAChCM,YAAY,GAAI,GAAEM,MAAM,CAACC,IAAI,CAACC,KAAK,CAACR,YAAY,GAAG,GAAG,CAAC,CAAE,GAAE,GAAG,EAChE,CAAC;EAEDJ,QAAQ,CAAC,MAAM;IACb,IAAIO,QAAQ,CAACM,OAAO,EAAE;MACpBN,QAAQ,CAACM,OAAO,CAACC,MAAM,CAAC,CAAC;IAC3B;EACF,CAAC,CAAC;EAEF,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvB,MAAMC,OAAO,GAAGC,QAAQ,CAACT,KAAK,CAAC;IAC/B,IAAI,CAACU,MAAM,CAACC,KAAK,CAACH,OAAO,CAAC,EAAE;MAC1BX,QAAQ,IAAIA,QAAQ,CAACN,aAAa,CAACiB,OAAO,GAAG,GAAG,CAAC,CAAC;IACpD;EACF,CAAC;EAED,oBACEd,OAAA;IACEkB,GAAG,EAAEb,QAAS;IACdC,KAAK,EAAEA,KAAM;IACba,SAAS,EAAC,kBAAkB;IAC5BC,OAAO,EAAGC,CAAC,IAAK;MACd,MAAMC,QAAQ,GAAID,CAAC,CAACE,MAAM,CAAsBjB,KAAK,CAACkB,OAAO,CAC3D,KAAK,EACL,EACF,CAAC;MACDjB,QAAQ,CAACe,QAAQ,CAAC;IACpB,CAAE;IACFG,SAAS,EAAGJ,CAAC,IAAK;MAChB,IAAIA,CAAC,CAACK,GAAG,KAAK,OAAO,IAAI,CAACL,CAAC,CAACM,WAAW,CAACC,WAAW,EAAE;QACnDf,UAAU,CAAC,CAAC;MACd;IACF,CAAE;IACFgB,MAAM,EAAEA,CAAA,KAAMhB,UAAU,CAAC;EAAE;IAAAiB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC5B,CAAC;AAEN,CAAC;AAAC7B,EAAA,CAvCWH,SAAqB;EAAA,QAMhCH,QAAQ;AAAA;AAAAoC,EAAA,GANGjC,SAAqB;AAAA,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}