{"ast":null,"code":"import { useEffect, useRef } from 'react';\nexport default function useWhyDidYouUpdate(componentName, props) {\n  const prevProps = useRef({});\n  useEffect(() => {\n    if (prevProps.current) {\n      const allKeys = Object.keys(Object.assign(Object.assign({}, prevProps.current), props));\n      const changedProps = {};\n      allKeys.forEach(key => {\n        if (!Object.is(prevProps.current[key], props[key])) {\n          changedProps[key] = {\n            from: prevProps.current[key],\n            to: props[key]\n          };\n        }\n      });\n      if (Object.keys(changedProps).length) {\n        console.log('[why-did-you-update]', componentName, changedProps);\n      }\n    }\n    prevProps.current = props;\n  });\n}","map":{"version":3,"names":["useEffect","useRef","useWhyDidYouUpdate","componentName","props","prevProps","current","allKeys","Object","keys","assign","changedProps","forEach","key","is","from","to","length","console","log"],"sources":["/Users/yangdan/zf-workspace/react/suika/node_modules/.pnpm/registry.npmmirror.com+ahooks@3.7.4_react@18.2.0/node_modules/ahooks/es/useWhyDidYouUpdate/index.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\nexport default function useWhyDidYouUpdate(componentName, props) {\n  const prevProps = useRef({});\n  useEffect(() => {\n    if (prevProps.current) {\n      const allKeys = Object.keys(Object.assign(Object.assign({}, prevProps.current), props));\n      const changedProps = {};\n      allKeys.forEach(key => {\n        if (!Object.is(prevProps.current[key], props[key])) {\n          changedProps[key] = {\n            from: prevProps.current[key],\n            to: props[key]\n          };\n        }\n      });\n      if (Object.keys(changedProps).length) {\n        console.log('[why-did-you-update]', componentName, changedProps);\n      }\n    }\n    prevProps.current = props;\n  });\n}"],"mappings":"AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzC,eAAe,SAASC,kBAAkBA,CAACC,aAAa,EAAEC,KAAK,EAAE;EAC/D,MAAMC,SAAS,GAAGJ,MAAM,CAAC,CAAC,CAAC,CAAC;EAC5BD,SAAS,CAAC,MAAM;IACd,IAAIK,SAAS,CAACC,OAAO,EAAE;MACrB,MAAMC,OAAO,GAAGC,MAAM,CAACC,IAAI,CAACD,MAAM,CAACE,MAAM,CAACF,MAAM,CAACE,MAAM,CAAC,CAAC,CAAC,EAAEL,SAAS,CAACC,OAAO,CAAC,EAAEF,KAAK,CAAC,CAAC;MACvF,MAAMO,YAAY,GAAG,CAAC,CAAC;MACvBJ,OAAO,CAACK,OAAO,CAACC,GAAG,IAAI;QACrB,IAAI,CAACL,MAAM,CAACM,EAAE,CAACT,SAAS,CAACC,OAAO,CAACO,GAAG,CAAC,EAAET,KAAK,CAACS,GAAG,CAAC,CAAC,EAAE;UAClDF,YAAY,CAACE,GAAG,CAAC,GAAG;YAClBE,IAAI,EAAEV,SAAS,CAACC,OAAO,CAACO,GAAG,CAAC;YAC5BG,EAAE,EAAEZ,KAAK,CAACS,GAAG;UACf,CAAC;QACH;MACF,CAAC,CAAC;MACF,IAAIL,MAAM,CAACC,IAAI,CAACE,YAAY,CAAC,CAACM,MAAM,EAAE;QACpCC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEhB,aAAa,EAAEQ,YAAY,CAAC;MAClE;IACF;IACAN,SAAS,CAACC,OAAO,GAAGF,KAAK;EAC3B,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}