{"ast":null,"code":"export class DrawTextTool {\n  constructor(editor) {\n    this.editor = editor;\n    this.type = 'drawText';\n    this.hotkey = 't';\n  }\n  active() {\n    this.editor.setCursor('crosshair');\n  }\n  inactive() {\n    this.editor.setCursor('');\n  }\n  moveExcludeDrag() {\n    // do nothing\n  }\n  start() {\n    // do nothing\n  }\n  drag() {\n    // do nothing\n  }\n  end(e) {\n    const {\n      x,\n      y\n    } = this.editor.getCursorXY(e);\n\n    // 让一个 input 元素出现在光标位置，然后输入内容回车。\n    this.editor.textEditor.visible(x, y);\n    this.editor.toolManager.setActiveTool('select');\n  }\n  afterEnd() {\n    // do nothing\n  }\n}\nDrawTextTool.type = 'drawText';","map":{"version":3,"names":["DrawTextTool","constructor","editor","type","hotkey","active","setCursor","inactive","moveExcludeDrag","start","drag","end","e","x","y","getCursorXY","textEditor","visible","toolManager","setActiveTool","afterEnd"],"sources":["/Users/yangdan/zf-workspace/react/suika/packages/suika/src/editor/tools/tool_draw_text.ts"],"sourcesContent":["import { Editor } from '../editor';\nimport { ITool } from './type';\n\nexport class DrawTextTool implements ITool {\n  static readonly type = 'drawText';\n  readonly type = 'drawText';\n  readonly hotkey = 't';\n\n  constructor(private editor: Editor) {}\n  active() {\n    this.editor.setCursor('crosshair');\n  }\n  inactive() {\n    this.editor.setCursor('');\n  }\n  moveExcludeDrag() {\n    // do nothing\n  }\n  start() {\n    // do nothing\n  }\n  drag() {\n    // do nothing\n  }\n\n  end(e: PointerEvent) {\n    const { x, y } = this.editor.getCursorXY(e);\n\n    // 让一个 input 元素出现在光标位置，然后输入内容回车。\n    this.editor.textEditor.visible(x, y);\n    this.editor.toolManager.setActiveTool('select');\n  }\n\n  afterEnd() {\n    // do nothing\n  }\n}\n"],"mappings":"AAGA,OAAO,MAAMA,YAAY,CAAkB;EAKzCC,WAAWA,CAASC,MAAc,EAAE;IAAA,KAAhBA,MAAc,GAAdA,MAAc;IAAA,KAHzBC,IAAI,GAAG,UAAU;IAAA,KACjBC,MAAM,GAAG,GAAG;EAEgB;EACrCC,MAAMA,CAAA,EAAG;IACP,IAAI,CAACH,MAAM,CAACI,SAAS,CAAC,WAAW,CAAC;EACpC;EACAC,QAAQA,CAAA,EAAG;IACT,IAAI,CAACL,MAAM,CAACI,SAAS,CAAC,EAAE,CAAC;EAC3B;EACAE,eAAeA,CAAA,EAAG;IAChB;EAAA;EAEFC,KAAKA,CAAA,EAAG;IACN;EAAA;EAEFC,IAAIA,CAAA,EAAG;IACL;EAAA;EAGFC,GAAGA,CAACC,CAAe,EAAE;IACnB,MAAM;MAAEC,CAAC;MAAEC;IAAE,CAAC,GAAG,IAAI,CAACZ,MAAM,CAACa,WAAW,CAACH,CAAC,CAAC;;IAE3C;IACA,IAAI,CAACV,MAAM,CAACc,UAAU,CAACC,OAAO,CAACJ,CAAC,EAAEC,CAAC,CAAC;IACpC,IAAI,CAACZ,MAAM,CAACgB,WAAW,CAACC,aAAa,CAAC,QAAQ,CAAC;EACjD;EAEAC,QAAQA,CAAA,EAAG;IACT;EAAA;AAEJ;AAjCapB,YAAY,CACPG,IAAI,GAAG,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}