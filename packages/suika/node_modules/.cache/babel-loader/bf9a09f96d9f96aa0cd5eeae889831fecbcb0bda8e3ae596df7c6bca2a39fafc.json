{"ast":null,"code":"import { useCallback, useState } from 'react';\nimport useUnmountedRef from '../useUnmountedRef';\nfunction useSafeState(initialState) {\n  const unmountedRef = useUnmountedRef();\n  const [state, setState] = useState(initialState);\n  const setCurrentState = useCallback(currentState => {\n    /** if component is unmounted, stop update */\n    if (unmountedRef.current) return;\n    setState(currentState);\n  }, []);\n  return [state, setCurrentState];\n}\nexport default useSafeState;","map":{"version":3,"names":["useCallback","useState","useUnmountedRef","useSafeState","initialState","unmountedRef","state","setState","setCurrentState","currentState","current"],"sources":["/Users/yangdan/zf-workspace/react/suika/node_modules/.pnpm/registry.npmmirror.com+ahooks@3.7.4_react@18.2.0/node_modules/ahooks/es/useSafeState/index.js"],"sourcesContent":["import { useCallback, useState } from 'react';\nimport useUnmountedRef from '../useUnmountedRef';\nfunction useSafeState(initialState) {\n  const unmountedRef = useUnmountedRef();\n  const [state, setState] = useState(initialState);\n  const setCurrentState = useCallback(currentState => {\n    /** if component is unmounted, stop update */\n    if (unmountedRef.current) return;\n    setState(currentState);\n  }, []);\n  return [state, setCurrentState];\n}\nexport default useSafeState;"],"mappings":"AAAA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAC7C,OAAOC,eAAe,MAAM,oBAAoB;AAChD,SAASC,YAAYA,CAACC,YAAY,EAAE;EAClC,MAAMC,YAAY,GAAGH,eAAe,CAAC,CAAC;EACtC,MAAM,CAACI,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAACG,YAAY,CAAC;EAChD,MAAMI,eAAe,GAAGR,WAAW,CAACS,YAAY,IAAI;IAClD;IACA,IAAIJ,YAAY,CAACK,OAAO,EAAE;IAC1BH,QAAQ,CAACE,YAAY,CAAC;EACxB,CAAC,EAAE,EAAE,CAAC;EACN,OAAO,CAACH,KAAK,EAAEE,eAAe,CAAC;AACjC;AACA,eAAeL,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}