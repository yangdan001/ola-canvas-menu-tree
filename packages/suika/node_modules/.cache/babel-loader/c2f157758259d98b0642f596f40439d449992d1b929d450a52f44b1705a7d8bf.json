{"ast":null,"code":"import { useCallback, useState } from 'react';\nimport useLatest from '../useLatest';\nimport { isFunction } from '../utils';\nfunction useEventTarget(options) {\n  const {\n    initialValue,\n    transformer\n  } = options || {};\n  const [value, setValue] = useState(initialValue);\n  const transformerRef = useLatest(transformer);\n  const reset = useCallback(() => setValue(initialValue), []);\n  const onChange = useCallback(e => {\n    const _value = e.target.value;\n    if (isFunction(transformerRef.current)) {\n      return setValue(transformerRef.current(_value));\n    }\n    // no transformer => U and T should be the same\n    return setValue(_value);\n  }, []);\n  return [value, {\n    onChange,\n    reset\n  }];\n}\nexport default useEventTarget;","map":{"version":3,"names":["useCallback","useState","useLatest","isFunction","useEventTarget","options","initialValue","transformer","value","setValue","transformerRef","reset","onChange","e","_value","target","current"],"sources":["/Users/yangdan/zf-workspace/react/suika/node_modules/.pnpm/registry.npmmirror.com+ahooks@3.7.4_react@18.2.0/node_modules/ahooks/es/useEventTarget/index.js"],"sourcesContent":["import { useCallback, useState } from 'react';\nimport useLatest from '../useLatest';\nimport { isFunction } from '../utils';\nfunction useEventTarget(options) {\n  const {\n    initialValue,\n    transformer\n  } = options || {};\n  const [value, setValue] = useState(initialValue);\n  const transformerRef = useLatest(transformer);\n  const reset = useCallback(() => setValue(initialValue), []);\n  const onChange = useCallback(e => {\n    const _value = e.target.value;\n    if (isFunction(transformerRef.current)) {\n      return setValue(transformerRef.current(_value));\n    }\n    // no transformer => U and T should be the same\n    return setValue(_value);\n  }, []);\n  return [value, {\n    onChange,\n    reset\n  }];\n}\nexport default useEventTarget;"],"mappings":"AAAA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAC7C,OAAOC,SAAS,MAAM,cAAc;AACpC,SAASC,UAAU,QAAQ,UAAU;AACrC,SAASC,cAAcA,CAACC,OAAO,EAAE;EAC/B,MAAM;IACJC,YAAY;IACZC;EACF,CAAC,GAAGF,OAAO,IAAI,CAAC,CAAC;EACjB,MAAM,CAACG,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAACK,YAAY,CAAC;EAChD,MAAMI,cAAc,GAAGR,SAAS,CAACK,WAAW,CAAC;EAC7C,MAAMI,KAAK,GAAGX,WAAW,CAAC,MAAMS,QAAQ,CAACH,YAAY,CAAC,EAAE,EAAE,CAAC;EAC3D,MAAMM,QAAQ,GAAGZ,WAAW,CAACa,CAAC,IAAI;IAChC,MAAMC,MAAM,GAAGD,CAAC,CAACE,MAAM,CAACP,KAAK;IAC7B,IAAIL,UAAU,CAACO,cAAc,CAACM,OAAO,CAAC,EAAE;MACtC,OAAOP,QAAQ,CAACC,cAAc,CAACM,OAAO,CAACF,MAAM,CAAC,CAAC;IACjD;IACA;IACA,OAAOL,QAAQ,CAACK,MAAM,CAAC;EACzB,CAAC,EAAE,EAAE,CAAC;EACN,OAAO,CAACN,KAAK,EAAE;IACbI,QAAQ;IACRD;EACF,CAAC,CAAC;AACJ;AACA,eAAeP,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}