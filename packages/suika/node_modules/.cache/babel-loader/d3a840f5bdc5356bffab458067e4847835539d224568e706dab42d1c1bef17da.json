{"ast":null,"code":"import ResizeObserver from 'resize-observer-polyfill';\nimport useRafState from '../useRafState';\nimport { getTargetElement } from '../utils/domTarget';\nimport useIsomorphicLayoutEffectWithTarget from '../utils/useIsomorphicLayoutEffectWithTarget';\nfunction useSize(target) {\n  const [state, setState] = useRafState();\n  useIsomorphicLayoutEffectWithTarget(() => {\n    const el = getTargetElement(target);\n    if (!el) {\n      return;\n    }\n    const resizeObserver = new ResizeObserver(entries => {\n      entries.forEach(entry => {\n        const {\n          clientWidth,\n          clientHeight\n        } = entry.target;\n        setState({\n          width: clientWidth,\n          height: clientHeight\n        });\n      });\n    });\n    resizeObserver.observe(el);\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [], target);\n  return state;\n}\nexport default useSize;","map":{"version":3,"names":["ResizeObserver","useRafState","getTargetElement","useIsomorphicLayoutEffectWithTarget","useSize","target","state","setState","el","resizeObserver","entries","forEach","entry","clientWidth","clientHeight","width","height","observe","disconnect"],"sources":["/Users/yangdan/zf-workspace/react/suika/node_modules/.pnpm/registry.npmmirror.com+ahooks@3.7.4_react@18.2.0/node_modules/ahooks/es/useSize/index.js"],"sourcesContent":["import ResizeObserver from 'resize-observer-polyfill';\nimport useRafState from '../useRafState';\nimport { getTargetElement } from '../utils/domTarget';\nimport useIsomorphicLayoutEffectWithTarget from '../utils/useIsomorphicLayoutEffectWithTarget';\nfunction useSize(target) {\n  const [state, setState] = useRafState();\n  useIsomorphicLayoutEffectWithTarget(() => {\n    const el = getTargetElement(target);\n    if (!el) {\n      return;\n    }\n    const resizeObserver = new ResizeObserver(entries => {\n      entries.forEach(entry => {\n        const {\n          clientWidth,\n          clientHeight\n        } = entry.target;\n        setState({\n          width: clientWidth,\n          height: clientHeight\n        });\n      });\n    });\n    resizeObserver.observe(el);\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [], target);\n  return state;\n}\nexport default useSize;"],"mappings":"AAAA,OAAOA,cAAc,MAAM,0BAA0B;AACrD,OAAOC,WAAW,MAAM,gBAAgB;AACxC,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,OAAOC,mCAAmC,MAAM,8CAA8C;AAC9F,SAASC,OAAOA,CAACC,MAAM,EAAE;EACvB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,WAAW,CAAC,CAAC;EACvCE,mCAAmC,CAAC,MAAM;IACxC,MAAMK,EAAE,GAAGN,gBAAgB,CAACG,MAAM,CAAC;IACnC,IAAI,CAACG,EAAE,EAAE;MACP;IACF;IACA,MAAMC,cAAc,GAAG,IAAIT,cAAc,CAACU,OAAO,IAAI;MACnDA,OAAO,CAACC,OAAO,CAACC,KAAK,IAAI;QACvB,MAAM;UACJC,WAAW;UACXC;QACF,CAAC,GAAGF,KAAK,CAACP,MAAM;QAChBE,QAAQ,CAAC;UACPQ,KAAK,EAAEF,WAAW;UAClBG,MAAM,EAAEF;QACV,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC;IACFL,cAAc,CAACQ,OAAO,CAACT,EAAE,CAAC;IAC1B,OAAO,MAAM;MACXC,cAAc,CAACS,UAAU,CAAC,CAAC;IAC7B,CAAC;EACH,CAAC,EAAE,EAAE,EAAEb,MAAM,CAAC;EACd,OAAOC,KAAK;AACd;AACA,eAAeF,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}