{"ast":null,"code":"import useLatest from '../useLatest';\nimport { getTargetElement } from '../utils/domTarget';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nconst useDrag = (data, target, options = {}) => {\n  const optionsRef = useLatest(options);\n  const dataRef = useLatest(data);\n  useEffectWithTarget(() => {\n    const targetElement = getTargetElement(target);\n    if (!(targetElement === null || targetElement === void 0 ? void 0 : targetElement.addEventListener)) {\n      return;\n    }\n    const onDragStart = event => {\n      var _a, _b;\n      (_b = (_a = optionsRef.current).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, event);\n      event.dataTransfer.setData('custom', JSON.stringify(dataRef.current));\n    };\n    const onDragEnd = event => {\n      var _a, _b;\n      (_b = (_a = optionsRef.current).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a, event);\n    };\n    targetElement.setAttribute('draggable', 'true');\n    targetElement.addEventListener('dragstart', onDragStart);\n    targetElement.addEventListener('dragend', onDragEnd);\n    return () => {\n      targetElement.removeEventListener('dragstart', onDragStart);\n      targetElement.removeEventListener('dragend', onDragEnd);\n    };\n  }, [], target);\n};\nexport default useDrag;","map":{"version":3,"names":["useLatest","getTargetElement","useEffectWithTarget","useDrag","data","target","options","optionsRef","dataRef","targetElement","addEventListener","onDragStart","event","_a","_b","current","call","dataTransfer","setData","JSON","stringify","onDragEnd","setAttribute","removeEventListener"],"sources":["/Users/yangdan/zf-workspace/react/suika/node_modules/.pnpm/registry.npmmirror.com+ahooks@3.7.4_react@18.2.0/node_modules/ahooks/es/useDrag/index.js"],"sourcesContent":["import useLatest from '../useLatest';\nimport { getTargetElement } from '../utils/domTarget';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nconst useDrag = (data, target, options = {}) => {\n  const optionsRef = useLatest(options);\n  const dataRef = useLatest(data);\n  useEffectWithTarget(() => {\n    const targetElement = getTargetElement(target);\n    if (!(targetElement === null || targetElement === void 0 ? void 0 : targetElement.addEventListener)) {\n      return;\n    }\n    const onDragStart = event => {\n      var _a, _b;\n      (_b = (_a = optionsRef.current).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, event);\n      event.dataTransfer.setData('custom', JSON.stringify(dataRef.current));\n    };\n    const onDragEnd = event => {\n      var _a, _b;\n      (_b = (_a = optionsRef.current).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a, event);\n    };\n    targetElement.setAttribute('draggable', 'true');\n    targetElement.addEventListener('dragstart', onDragStart);\n    targetElement.addEventListener('dragend', onDragEnd);\n    return () => {\n      targetElement.removeEventListener('dragstart', onDragStart);\n      targetElement.removeEventListener('dragend', onDragEnd);\n    };\n  }, [], target);\n};\nexport default useDrag;"],"mappings":"AAAA,OAAOA,SAAS,MAAM,cAAc;AACpC,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,OAAOC,mBAAmB,MAAM,8BAA8B;AAC9D,MAAMC,OAAO,GAAGA,CAACC,IAAI,EAAEC,MAAM,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EAC9C,MAAMC,UAAU,GAAGP,SAAS,CAACM,OAAO,CAAC;EACrC,MAAME,OAAO,GAAGR,SAAS,CAACI,IAAI,CAAC;EAC/BF,mBAAmB,CAAC,MAAM;IACxB,MAAMO,aAAa,GAAGR,gBAAgB,CAACI,MAAM,CAAC;IAC9C,IAAI,EAAEI,aAAa,KAAK,IAAI,IAAIA,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACC,gBAAgB,CAAC,EAAE;MACnG;IACF;IACA,MAAMC,WAAW,GAAGC,KAAK,IAAI;MAC3B,IAAIC,EAAE,EAAEC,EAAE;MACV,CAACA,EAAE,GAAG,CAACD,EAAE,GAAGN,UAAU,CAACQ,OAAO,EAAEJ,WAAW,MAAM,IAAI,IAAIG,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACE,IAAI,CAACH,EAAE,EAAED,KAAK,CAAC;MACpGA,KAAK,CAACK,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEC,IAAI,CAACC,SAAS,CAACZ,OAAO,CAACO,OAAO,CAAC,CAAC;IACvE,CAAC;IACD,MAAMM,SAAS,GAAGT,KAAK,IAAI;MACzB,IAAIC,EAAE,EAAEC,EAAE;MACV,CAACA,EAAE,GAAG,CAACD,EAAE,GAAGN,UAAU,CAACQ,OAAO,EAAEM,SAAS,MAAM,IAAI,IAAIP,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACE,IAAI,CAACH,EAAE,EAAED,KAAK,CAAC;IACpG,CAAC;IACDH,aAAa,CAACa,YAAY,CAAC,WAAW,EAAE,MAAM,CAAC;IAC/Cb,aAAa,CAACC,gBAAgB,CAAC,WAAW,EAAEC,WAAW,CAAC;IACxDF,aAAa,CAACC,gBAAgB,CAAC,SAAS,EAAEW,SAAS,CAAC;IACpD,OAAO,MAAM;MACXZ,aAAa,CAACc,mBAAmB,CAAC,WAAW,EAAEZ,WAAW,CAAC;MAC3DF,aAAa,CAACc,mBAAmB,CAAC,SAAS,EAAEF,SAAS,CAAC;IACzD,CAAC;EACH,CAAC,EAAE,EAAE,EAAEhB,MAAM,CAAC;AAChB,CAAC;AACD,eAAeF,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}