{"ast":null,"code":"import useLatest from '../useLatest';\nimport { isFunction, isNumber, isString } from '../utils';\nimport { getTargetElement } from '../utils/domTarget';\nimport useDeepCompareEffectWithTarget from '../utils/useDeepCompareWithTarget';\nimport isAppleDevice from '../utils/isAppleDevice';\n// 键盘事件 keyCode 别名\nconst aliasKeyCodeMap = {\n  '0': 48,\n  '1': 49,\n  '2': 50,\n  '3': 51,\n  '4': 52,\n  '5': 53,\n  '6': 54,\n  '7': 55,\n  '8': 56,\n  '9': 57,\n  backspace: 8,\n  tab: 9,\n  enter: 13,\n  shift: 16,\n  ctrl: 17,\n  alt: 18,\n  pausebreak: 19,\n  capslock: 20,\n  esc: 27,\n  space: 32,\n  pageup: 33,\n  pagedown: 34,\n  end: 35,\n  home: 36,\n  leftarrow: 37,\n  uparrow: 38,\n  rightarrow: 39,\n  downarrow: 40,\n  insert: 45,\n  delete: 46,\n  a: 65,\n  b: 66,\n  c: 67,\n  d: 68,\n  e: 69,\n  f: 70,\n  g: 71,\n  h: 72,\n  i: 73,\n  j: 74,\n  k: 75,\n  l: 76,\n  m: 77,\n  n: 78,\n  o: 79,\n  p: 80,\n  q: 81,\n  r: 82,\n  s: 83,\n  t: 84,\n  u: 85,\n  v: 86,\n  w: 87,\n  x: 88,\n  y: 89,\n  z: 90,\n  leftwindowkey: 91,\n  rightwindowkey: 92,\n  selectkey: 93,\n  numpad0: 96,\n  numpad1: 97,\n  numpad2: 98,\n  numpad3: 99,\n  numpad4: 100,\n  numpad5: 101,\n  numpad6: 102,\n  numpad7: 103,\n  numpad8: 104,\n  numpad9: 105,\n  multiply: 106,\n  add: 107,\n  subtract: 109,\n  decimalpoint: 110,\n  divide: 111,\n  f1: 112,\n  f2: 113,\n  f3: 114,\n  f4: 115,\n  f5: 116,\n  f6: 117,\n  f7: 118,\n  f8: 119,\n  f9: 120,\n  f10: 121,\n  f11: 122,\n  f12: 123,\n  numlock: 144,\n  scrolllock: 145,\n  semicolon: 186,\n  equalsign: 187,\n  comma: 188,\n  dash: 189,\n  period: 190,\n  forwardslash: 191,\n  graveaccent: 192,\n  openbracket: 219,\n  backslash: 220,\n  closebracket: 221,\n  singlequote: 222\n};\nif (isAppleDevice) {\n  aliasKeyCodeMap['meta'] = [91, 93];\n} else {\n  aliasKeyCodeMap['meta'] = [91, 92];\n}\n// 修饰键\nconst modifierKey = {\n  ctrl: event => event.ctrlKey,\n  shift: event => event.shiftKey,\n  alt: event => event.altKey,\n  meta: event => {\n    if (event.type === 'keyup') {\n      return aliasKeyCodeMap['meta'].includes(event.keyCode);\n    }\n    return event.metaKey;\n  }\n};\n// 根据 event 计算激活键数量\nfunction countKeyByEvent(event) {\n  const countOfModifier = Object.keys(modifierKey).reduce((total, key) => {\n    if (modifierKey[key](event)) {\n      return total + 1;\n    }\n    return total;\n  }, 0);\n  // 16 17 18 91 92 是修饰键的 keyCode，如果 keyCode 是修饰键，那么激活数量就是修饰键的数量，如果不是，那么就需要 +1\n  return [16, 17, 18, 91, 92].includes(event.keyCode) ? countOfModifier : countOfModifier + 1;\n}\n/**\n * 判断按键是否激活\n * @param [event: KeyboardEvent]键盘事件\n * @param [keyFilter: any] 当前键\n * @returns Boolean\n */\nfunction genFilterKey(event, keyFilter, exactMatch) {\n  // 浏览器自动补全 input 的时候，会触发 keyDown、keyUp 事件，但此时 event.key 等为空\n  if (!event.key) {\n    return false;\n  }\n  // 数字类型直接匹配事件的 keyCode\n  if (isNumber(keyFilter)) {\n    return event.keyCode === keyFilter;\n  }\n  // 字符串依次判断是否有组合键\n  const genArr = keyFilter.split('.');\n  let genLen = 0;\n  for (const key of genArr) {\n    // 组合键\n    const genModifier = modifierKey[key];\n    // keyCode 别名\n    const aliasKeyCode = aliasKeyCodeMap[key.toLowerCase()];\n    if (genModifier && genModifier(event) || aliasKeyCode && aliasKeyCode === event.keyCode) {\n      genLen++;\n    }\n  }\n  /**\n   * 需要判断触发的键位和监听的键位完全一致，判断方法就是触发的键位里有且等于监听的键位\n   * genLen === genArr.length 能判断出来触发的键位里有监听的键位\n   * countKeyByEvent(event) === genArr.length 判断出来触发的键位数量里有且等于监听的键位数量\n   * 主要用来防止按组合键其子集也会触发的情况，例如监听 ctrl+a 会触发监听 ctrl 和 a 两个键的事件。\n   */\n  if (exactMatch) {\n    return genLen === genArr.length && countKeyByEvent(event) === genArr.length;\n  }\n  return genLen === genArr.length;\n}\n/**\n * 键盘输入预处理方法\n * @param [keyFilter: any] 当前键\n * @returns () => Boolean\n */\nfunction genKeyFormatter(keyFilter, exactMatch) {\n  if (isFunction(keyFilter)) {\n    return keyFilter;\n  }\n  if (isString(keyFilter) || isNumber(keyFilter)) {\n    return event => genFilterKey(event, keyFilter, exactMatch);\n  }\n  if (Array.isArray(keyFilter)) {\n    return event => keyFilter.some(item => genFilterKey(event, item, exactMatch));\n  }\n  return () => Boolean(keyFilter);\n}\nconst defaultEvents = ['keydown'];\nfunction useKeyPress(keyFilter, eventHandler, option) {\n  const {\n    events = defaultEvents,\n    target,\n    exactMatch = false,\n    useCapture = false\n  } = option || {};\n  const eventHandlerRef = useLatest(eventHandler);\n  const keyFilterRef = useLatest(keyFilter);\n  useDeepCompareEffectWithTarget(() => {\n    var _a;\n    const el = getTargetElement(target, window);\n    if (!el) {\n      return;\n    }\n    const callbackHandler = event => {\n      var _a;\n      const genGuard = genKeyFormatter(keyFilterRef.current, exactMatch);\n      if (genGuard(event)) {\n        return (_a = eventHandlerRef.current) === null || _a === void 0 ? void 0 : _a.call(eventHandlerRef, event);\n      }\n    };\n    for (const eventName of events) {\n      (_a = el === null || el === void 0 ? void 0 : el.addEventListener) === null || _a === void 0 ? void 0 : _a.call(el, eventName, callbackHandler, useCapture);\n    }\n    return () => {\n      var _a;\n      for (const eventName of events) {\n        (_a = el === null || el === void 0 ? void 0 : el.removeEventListener) === null || _a === void 0 ? void 0 : _a.call(el, eventName, callbackHandler, useCapture);\n      }\n    };\n  }, [events], target);\n}\nexport default useKeyPress;","map":{"version":3,"names":["useLatest","isFunction","isNumber","isString","getTargetElement","useDeepCompareEffectWithTarget","isAppleDevice","aliasKeyCodeMap","backspace","tab","enter","shift","ctrl","alt","pausebreak","capslock","esc","space","pageup","pagedown","end","home","leftarrow","uparrow","rightarrow","downarrow","insert","delete","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","leftwindowkey","rightwindowkey","selectkey","numpad0","numpad1","numpad2","numpad3","numpad4","numpad5","numpad6","numpad7","numpad8","numpad9","multiply","add","subtract","decimalpoint","divide","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","numlock","scrolllock","semicolon","equalsign","comma","dash","period","forwardslash","graveaccent","openbracket","backslash","closebracket","singlequote","modifierKey","event","ctrlKey","shiftKey","altKey","meta","type","includes","keyCode","metaKey","countKeyByEvent","countOfModifier","Object","keys","reduce","total","key","genFilterKey","keyFilter","exactMatch","genArr","split","genLen","genModifier","aliasKeyCode","toLowerCase","length","genKeyFormatter","Array","isArray","some","item","Boolean","defaultEvents","useKeyPress","eventHandler","option","events","target","useCapture","eventHandlerRef","keyFilterRef","_a","el","window","callbackHandler","genGuard","current","call","eventName","addEventListener","removeEventListener"],"sources":["/Users/yangdan/zf-workspace/react/suika/node_modules/.pnpm/registry.npmmirror.com+ahooks@3.7.4_react@18.2.0/node_modules/ahooks/es/useKeyPress/index.js"],"sourcesContent":["import useLatest from '../useLatest';\nimport { isFunction, isNumber, isString } from '../utils';\nimport { getTargetElement } from '../utils/domTarget';\nimport useDeepCompareEffectWithTarget from '../utils/useDeepCompareWithTarget';\nimport isAppleDevice from '../utils/isAppleDevice';\n// 键盘事件 keyCode 别名\nconst aliasKeyCodeMap = {\n  '0': 48,\n  '1': 49,\n  '2': 50,\n  '3': 51,\n  '4': 52,\n  '5': 53,\n  '6': 54,\n  '7': 55,\n  '8': 56,\n  '9': 57,\n  backspace: 8,\n  tab: 9,\n  enter: 13,\n  shift: 16,\n  ctrl: 17,\n  alt: 18,\n  pausebreak: 19,\n  capslock: 20,\n  esc: 27,\n  space: 32,\n  pageup: 33,\n  pagedown: 34,\n  end: 35,\n  home: 36,\n  leftarrow: 37,\n  uparrow: 38,\n  rightarrow: 39,\n  downarrow: 40,\n  insert: 45,\n  delete: 46,\n  a: 65,\n  b: 66,\n  c: 67,\n  d: 68,\n  e: 69,\n  f: 70,\n  g: 71,\n  h: 72,\n  i: 73,\n  j: 74,\n  k: 75,\n  l: 76,\n  m: 77,\n  n: 78,\n  o: 79,\n  p: 80,\n  q: 81,\n  r: 82,\n  s: 83,\n  t: 84,\n  u: 85,\n  v: 86,\n  w: 87,\n  x: 88,\n  y: 89,\n  z: 90,\n  leftwindowkey: 91,\n  rightwindowkey: 92,\n  selectkey: 93,\n  numpad0: 96,\n  numpad1: 97,\n  numpad2: 98,\n  numpad3: 99,\n  numpad4: 100,\n  numpad5: 101,\n  numpad6: 102,\n  numpad7: 103,\n  numpad8: 104,\n  numpad9: 105,\n  multiply: 106,\n  add: 107,\n  subtract: 109,\n  decimalpoint: 110,\n  divide: 111,\n  f1: 112,\n  f2: 113,\n  f3: 114,\n  f4: 115,\n  f5: 116,\n  f6: 117,\n  f7: 118,\n  f8: 119,\n  f9: 120,\n  f10: 121,\n  f11: 122,\n  f12: 123,\n  numlock: 144,\n  scrolllock: 145,\n  semicolon: 186,\n  equalsign: 187,\n  comma: 188,\n  dash: 189,\n  period: 190,\n  forwardslash: 191,\n  graveaccent: 192,\n  openbracket: 219,\n  backslash: 220,\n  closebracket: 221,\n  singlequote: 222\n};\nif (isAppleDevice) {\n  aliasKeyCodeMap['meta'] = [91, 93];\n} else {\n  aliasKeyCodeMap['meta'] = [91, 92];\n}\n// 修饰键\nconst modifierKey = {\n  ctrl: event => event.ctrlKey,\n  shift: event => event.shiftKey,\n  alt: event => event.altKey,\n  meta: event => {\n    if (event.type === 'keyup') {\n      return aliasKeyCodeMap['meta'].includes(event.keyCode);\n    }\n    return event.metaKey;\n  }\n};\n// 根据 event 计算激活键数量\nfunction countKeyByEvent(event) {\n  const countOfModifier = Object.keys(modifierKey).reduce((total, key) => {\n    if (modifierKey[key](event)) {\n      return total + 1;\n    }\n    return total;\n  }, 0);\n  // 16 17 18 91 92 是修饰键的 keyCode，如果 keyCode 是修饰键，那么激活数量就是修饰键的数量，如果不是，那么就需要 +1\n  return [16, 17, 18, 91, 92].includes(event.keyCode) ? countOfModifier : countOfModifier + 1;\n}\n/**\n * 判断按键是否激活\n * @param [event: KeyboardEvent]键盘事件\n * @param [keyFilter: any] 当前键\n * @returns Boolean\n */\nfunction genFilterKey(event, keyFilter, exactMatch) {\n  // 浏览器自动补全 input 的时候，会触发 keyDown、keyUp 事件，但此时 event.key 等为空\n  if (!event.key) {\n    return false;\n  }\n  // 数字类型直接匹配事件的 keyCode\n  if (isNumber(keyFilter)) {\n    return event.keyCode === keyFilter;\n  }\n  // 字符串依次判断是否有组合键\n  const genArr = keyFilter.split('.');\n  let genLen = 0;\n  for (const key of genArr) {\n    // 组合键\n    const genModifier = modifierKey[key];\n    // keyCode 别名\n    const aliasKeyCode = aliasKeyCodeMap[key.toLowerCase()];\n    if (genModifier && genModifier(event) || aliasKeyCode && aliasKeyCode === event.keyCode) {\n      genLen++;\n    }\n  }\n  /**\n   * 需要判断触发的键位和监听的键位完全一致，判断方法就是触发的键位里有且等于监听的键位\n   * genLen === genArr.length 能判断出来触发的键位里有监听的键位\n   * countKeyByEvent(event) === genArr.length 判断出来触发的键位数量里有且等于监听的键位数量\n   * 主要用来防止按组合键其子集也会触发的情况，例如监听 ctrl+a 会触发监听 ctrl 和 a 两个键的事件。\n   */\n  if (exactMatch) {\n    return genLen === genArr.length && countKeyByEvent(event) === genArr.length;\n  }\n  return genLen === genArr.length;\n}\n/**\n * 键盘输入预处理方法\n * @param [keyFilter: any] 当前键\n * @returns () => Boolean\n */\nfunction genKeyFormatter(keyFilter, exactMatch) {\n  if (isFunction(keyFilter)) {\n    return keyFilter;\n  }\n  if (isString(keyFilter) || isNumber(keyFilter)) {\n    return event => genFilterKey(event, keyFilter, exactMatch);\n  }\n  if (Array.isArray(keyFilter)) {\n    return event => keyFilter.some(item => genFilterKey(event, item, exactMatch));\n  }\n  return () => Boolean(keyFilter);\n}\nconst defaultEvents = ['keydown'];\nfunction useKeyPress(keyFilter, eventHandler, option) {\n  const {\n    events = defaultEvents,\n    target,\n    exactMatch = false,\n    useCapture = false\n  } = option || {};\n  const eventHandlerRef = useLatest(eventHandler);\n  const keyFilterRef = useLatest(keyFilter);\n  useDeepCompareEffectWithTarget(() => {\n    var _a;\n    const el = getTargetElement(target, window);\n    if (!el) {\n      return;\n    }\n    const callbackHandler = event => {\n      var _a;\n      const genGuard = genKeyFormatter(keyFilterRef.current, exactMatch);\n      if (genGuard(event)) {\n        return (_a = eventHandlerRef.current) === null || _a === void 0 ? void 0 : _a.call(eventHandlerRef, event);\n      }\n    };\n    for (const eventName of events) {\n      (_a = el === null || el === void 0 ? void 0 : el.addEventListener) === null || _a === void 0 ? void 0 : _a.call(el, eventName, callbackHandler, useCapture);\n    }\n    return () => {\n      var _a;\n      for (const eventName of events) {\n        (_a = el === null || el === void 0 ? void 0 : el.removeEventListener) === null || _a === void 0 ? void 0 : _a.call(el, eventName, callbackHandler, useCapture);\n      }\n    };\n  }, [events], target);\n}\nexport default useKeyPress;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}